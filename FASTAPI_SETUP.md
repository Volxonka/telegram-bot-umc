# üöÄ FastAPI —Å–µ—Ä–≤–µ—Ä –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –£–ú–¶

## ‚úÖ **–ß—Ç–æ –≥–æ—Ç–æ–≤–æ:**

### üåê **FastAPI —Å–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–Ω:**
- ‚úÖ **`fastapi_server.py`** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä —Å Context7 –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
- ‚úÖ **CORS middleware** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram Web App
- ‚úÖ **GZip compression** - –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **Static files serving** - –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ **API endpoints** - –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **Error handling** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ **Health monitoring** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### üì¶ **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã:**
- ‚úÖ **FastAPI 0.104.1** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- ‚úÖ **Uvicorn** - ASGI —Å–µ—Ä–≤–µ—Ä
- ‚úÖ **Pydantic** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **Python-multipart** - –¥–ª—è —Ñ–∞–π–ª–æ–≤

## üöÄ **–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**

### **1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫:**
```bash
python start_fastapi.py
```

### **2. –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r webapp/requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
cd webapp
python fastapi_server.py
```

### **3. –° uvicorn –Ω–∞–ø—Ä—è–º—É—é:**
```bash
cd webapp
uvicorn fastapi_server:app --host 0.0.0.0 --port 8080 --reload
```

## üåê **–î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–¥—Ä–µ—Å–∞:**

- **üì± –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:** http://localhost:8080
- **üìö API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** http://localhost:8080/api/docs
- **üîç Context7 info:** http://localhost:8080/api/context7/info
- **‚ù§Ô∏è Health check:** http://localhost:8080/api/health

## üîß **API Endpoints:**

### **GET /api/data**
–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```json
{
  "status": "success",
  "data": {
    "schedule": [...],
    "announcements": [...],
    "polls": [...],
    "questions": [...],
    "user_info": {...}
  }
}
```

### **POST /api/poll/vote**
–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –≤ –æ–ø—Ä–æ—Å–µ
```json
{
  "poll_id": 1,
  "option": "present",
  "user_id": 12345
}
```

### **POST /api/question**
–û—Ç–ø—Ä–∞–≤–∫–∞ –≤–æ–ø—Ä–æ—Å–∞
```json
{
  "question": "–ö–æ–≥–¥–∞ —ç–∫–∑–∞–º–µ–Ω?",
  "user_id": 12345,
  "group": "–ì—Ä—É–ø–ø–∞ –ñ1"
}
```

## üéØ **Context7 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ **GZip compression** - —Å–∂–∞—Ç–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ **Static file serving** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–∑–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ **Async/await** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **Health monitoring** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- ‚úÖ **CORS middleware** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –¥–ª—è Telegram
- ‚úÖ **Trusted host** - –∑–∞—â–∏—Ç–∞ –æ—Ç host header –∞—Ç–∞–∫
- ‚úÖ **Error handling** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ **Request logging** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

### **Telegram Web App:**
- ‚úÖ **CORS –¥–ª—è Telegram** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö Telegram –¥–æ–º–µ–Ω–æ–≤
- ‚úÖ **User-Agent detection** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- ‚úÖ **Mobile optimization** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- ‚úÖ **API endpoints** - –≥–æ—Ç–æ–≤—ã–µ API –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üöÄ **–•–æ—Å—Ç–∏–Ω–≥:**

### **Render.com:**
1. –°–æ–∑–¥–∞–π—Ç–µ Web Service
2. Build Command: `pip install -r webapp/requirements.txt`
3. Start Command: `cd webapp && uvicorn fastapi_server:app --host 0.0.0.0 --port $PORT`

### **Heroku:**
1. Procfile —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
2. Deploy: `git push heroku main`

### **Vercel:**
1. –°–æ–∑–¥–∞–π—Ç–µ `vercel.json`:
```json
{
  "version": 2,
  "builds": [
    {
      "src": "webapp/fastapi_server.py",
      "use": "@vercel/python"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "webapp/fastapi_server.py"
    }
  ]
}
```

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

### **1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
```bash
curl http://localhost:8080/api/health
```

### **2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
http://localhost:8080

### **3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API:**
http://localhost:8080/api/docs

## üîó **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º:**

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ FastAPI —Å–µ—Ä–≤–µ—Ä–∞:

1. **–û–±–Ω–æ–≤–∏—Ç–µ `webapp_config.py`:**
```python
WEBAPP_BASE_URL = "http://localhost:8080"  # –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
# –∏–ª–∏
WEBAPP_BASE_URL = "https://your-domain.com"  # –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
```bash
python bot.py
```

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ Telegram:**
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É
- –í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É
- –ù–∞–∂–º–∏—Ç–µ "üöÄ –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"

## üéâ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ FastAPI:**

- ‚ö° **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –±—ã—Å—Ç—Ä—ã—Ö Python —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
- üìö **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - Swagger UI –∏ ReDoc
- üîí **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** - Pydantic –º–æ–¥–µ–ª–∏
- üåê **Async/await** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥
- üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ middleware
- üì± **Telegram Web App** - –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

---

**üöÄ FastAPI —Å–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è! ‚ú®
